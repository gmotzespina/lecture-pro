/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[14],{328:function(Ea,va,ba){ba.r(va);var oa=ba(2),ka=ba(0);ba.n(ka);var ja=ba(1),ea=ba(114);Ea=ba(43);var ca=ba(67),y=ba(184),r=ba(51),n=ba(183);ba=ba(274);var b=window,f=function(){function z(x,a,w){var aa=-1===x.indexOf("?")?"?":"&";switch(a){case r.a.NEVER_CACHE:this.url=x+aa+"_="+Object(ka.uniqueId)();break;default:this.url=x}this.se=w;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}z.prototype.start=function(x,a){var w=this,aa=this,ia=this.request,fa;aa.Yr=0;x&&Object.keys(x).forEach(function(ha){w.request.setRequestHeader(ha,x[ha])});a&&(this.request.withCredentials=a);this.Nx=setInterval(function(){var ha=0===window.document.URL.indexOf("file:///");ha=200===ia.status||
ha&&0===ia.status;if(ia.readyState!==n.b.DONE||ha){try{ia.responseText}catch(da){return}aa.Yr<ia.responseText.length&&(fa=aa.L2())&&aa.trigger(z.Events.DATA,[fa]);0===ia.readyState&&(clearInterval(aa.Nx),aa.trigger(z.Events.DONE))}else clearInterval(aa.Nx),aa.trigger(z.Events.DONE,["Error received return status "+ia.status])},1E3);this.request.send(null);this.status=n.a.STARTED};z.prototype.L2=function(){var x=this.request,a=x.responseText;if(0!==a.length)if(this.Yr===a.length)clearInterval(this.Nx),
this.trigger(z.Events.DONE);else return a=Math.min(this.Yr+3E6,a.length),x=b.fK(x,this.Yr,!0,a),this.Yr=a,x};z.prototype.abort=function(){clearInterval(this.Nx);var x=this;this.request.onreadystatechange=function(){Object(ja.i)("StreamingRequest aborted");x.status=n.a.ABORTED;return x.trigger(z.Events.ABORTED)};this.request.abort()};z.prototype.finish=function(){var x=this;this.request.onreadystatechange=function(){x.status=n.a.SUCCESS;return x.trigger(z.Events.DONE)};this.request.abort()};z.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return z}();Object(Ea.a)(f);var e;(function(z){z[z.LOCAL_HEADER=0]="LOCAL_HEADER";z[z.FILE=1]="FILE";z[z.CENTRAL_DIR=2]="CENTRAL_DIR"})(e||(e={}));var h=function(z){function x(){var a=z.call(this)||this;a.buffer="";a.state=e.LOCAL_HEADER;a.AE=4;a.gj=null;a.ep=ea.c;a.ik={};return a}Object(oa.c)(x,z);x.prototype.G2=function(a){var w;for(a=this.buffer+a;a.length>=this.ep;)switch(this.state){case e.LOCAL_HEADER:this.gj=w=this.P2(a.slice(0,this.ep));if(w.Ep!==
ea.g)throw Error("Wrong signature in local header: "+w.Ep);a=a.slice(this.ep);this.state=e.FILE;this.ep=w.vA+w.Km+w.gr+this.AE;this.trigger(x.Events.HEADER,[w]);break;case e.FILE:this.gj.name=a.slice(0,this.gj.Km);this.ik[this.gj.name]=this.gj;w=this.ep-this.AE;var aa=a.slice(this.gj.Km+this.gj.gr,w);this.trigger(x.Events.FILE,[this.gj.name,aa,this.gj.JA]);a=a.slice(w);if(a.slice(0,this.AE)===ea.h)this.state=e.LOCAL_HEADER,this.ep=ea.c;else return this.state=e.CENTRAL_DIR,!0}this.buffer=a;return!1};
x.Events={HEADER:"header",FILE:"file"};return x}(y.a);Object(Ea.a)(h);Ea=function(z){function x(a,w,aa,ia,fa){aa=z.call(this,a,aa,ia)||this;aa.url=a;aa.stream=new f(a,w);aa.Vc=new h;aa.BM=window.createPromiseCapability();aa.aN={};aa.se=fa;return aa}Object(oa.c)(x,z);x.prototype.Ns=function(a){var w=this;this.request([this.gh,this.ki,this.fh]);this.stream.addEventListener(f.Events.DATA,function(aa){try{if(w.Vc.G2(aa))return w.stream.finish()}catch(ia){throw w.stream.abort(),w.er(ia),a(ia),ia;}});this.stream.addEventListener(f.Events.DONE,
function(aa){w.o2=!0;w.BM.resolve();aa&&(w.er(aa),a(aa))});this.Vc.addEventListener(h.Events.HEADER,Object(ka.bind)(this.$M,this));this.Vc.addEventListener(h.Events.FILE,Object(ka.bind)(this.f3,this));return this.stream.start(this.se,this.withCredentials)};x.prototype.dK=function(a){var w=this;this.BM.promise.then(function(){a(Object.keys(w.Vc.ik))})};x.prototype.Nk=function(){return!0};x.prototype.request=function(a){var w=this;this.o2&&a.forEach(function(aa){w.aN[aa]||w.P6(aa)})};x.prototype.$M=
function(){};x.prototype.abort=function(){this.stream&&this.stream.abort()};x.prototype.P6=function(a){this.trigger(ca.a.Events.PART_READY,[{Sa:a,error:"Requested part not found",yg:!1,Pe:!1}])};x.prototype.f3=function(a,w,aa){this.aN[a]=!0;this.trigger(ca.a.Events.PART_READY,[{Sa:a,data:w,yg:!1,Pe:!1,error:null,ic:aa}])};return x}(ca.a);Object(ba.a)(Ea);Object(ba.b)(Ea);va["default"]=Ea}}]);}).call(this || window)
