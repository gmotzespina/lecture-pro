/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{319:function(Ea,va,ba){ba.r(va);ba.d(va,"ByteRangeRequest",function(){return a});var oa=ba(2),ka=ba(0);ba.n(ka);var ja=ba(1),ea=ba(114);Ea=ba(67);var ca=ba(184),y=ba(55),r=ba(51),n=ba(183),b=ba(126);ba=ba(274);var f=[],e=[],h=window,z=function(){return function(){this.qj=1}}(),x;(function(aa){aa[aa.UNSENT=0]="UNSENT";aa[aa.DONE=4]="DONE"})(x||(x={}));var a=function(){function aa(ia,fa,ha,da){var ma=this;this.url=ia;this.range=
fa;this.se=ha;this.withCredentials=da;this.KR=x;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);h.Uint8Array&&(this.request.responseType="arraybuffer");da&&(this.request.withCredentials=da);w.DISABLE_RANGE_HEADER||(Object(ka.isUndefined)(fa.stop)?this.request.setRequestHeader("Range","bytes="+fa.start):this.request.setRequestHeader("Range",["bytes=",fa.start,"-",fa.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ha&&Object.keys(ha).forEach(function(ua){ma.request.setRequestHeader(ua,
ha[ua])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}aa.prototype.start=function(ia){var fa=this,ha=this.request;ha.onreadystatechange=function(){if(fa.aborted)return fa.status=n.a.ABORTED,ia({code:n.a.ABORTED});if(this.readyState===fa.KR.DONE){fa.vw();var da=0===window.document.URL.indexOf("file:///");200===ha.status||206===ha.status||da&&0===ha.status?
(da=h.fK(this),fa.GE(da,ia)):(fa.status=n.a.ERROR,ia({code:fa.status,status:fa.status}))}};this.request.send(null);this.status=n.a.STARTED};aa.prototype.GE=function(ia,fa){this.status=n.a.SUCCESS;if(fa)return fa(!1,ia)};aa.prototype.abort=function(){this.vw();this.aborted=!0;this.request.abort()};aa.prototype.vw=function(){var ia=Object(b.c)(this.url,this.range,e);-1!==ia&&e.splice(ia,1);if(0<f.length){ia=f.shift();var fa=new aa(ia.url,ia.range,this.se,this.withCredentials);ia.request=fa;e.push(ia);
fa.start(Object(b.d)(ia))}};aa.prototype.extend=function(ia){var fa=Object.assign({},this,ia.prototype);fa.constructor=ia;return fa};return aa}(),w=function(aa){function ia(fa,ha,da,ma,ua){da=aa.call(this,fa,da,ma)||this;da.sj={};da.kv=ha;da.url=fa;da.DISABLE_RANGE_HEADER=!1;da.Hs=a;da.tF=3;da.se=ua||{};return da}Object(oa.c)(ia,aa);ia.prototype.Sq=function(fa,ha,da){var ma=-1===fa.indexOf("?")?"?":"&";switch(da){case !1:case r.a.NEVER_CACHE:fa=fa+ma+"_="+Object(ka.uniqueId)();break;case !0:case r.a.CACHE:fa=
fa+ma+"_="+ha.start+","+(Object(ka.isUndefined)(ha.stop)?"":ha.stop)}return fa};ia.prototype.EI=function(fa,ha,da,ma){void 0===da&&(da={});return new this.Hs(fa,ha,da,ma)};ia.prototype.kX=function(fa,ha,da,ma,ua){for(var na=0;na<f.length;na++)if(Object(ka.isEqual)(f[na].range,ha)&&Object(ka.isEqual)(f[na].url,fa))return f[na].nf.push(ma),f[na].rx++,null;for(na=0;na<e.length;na++)if(Object(ka.isEqual)(e[na].range,ha)&&Object(ka.isEqual)(e[na].url,fa))return e[na].nf.push(ma),e[na].rx++,null;da={url:fa,
range:ha,kv:da,nf:[ma],rx:1};if(0===f.length&&e.length<this.tF)return e.push(da),da.request=this.EI(fa,ha,ua,this.withCredentials),da;f.push(da);return null};ia.prototype.Ek=function(fa,ha,da){var ma=this.Sq(fa,ha,this.kv);(fa=this.kX(ma,ha,this.kv,da,this.se))&&fa.request.start(Object(b.d)(fa));return function(){var ua=Object(b.c)(ma,ha,e);if(-1!==ua){var na=--e[ua].rx;0===na&&e[ua].request&&e[ua].request.abort()}else ua=Object(b.c)(ma,ha,f),-1!==ua&&(na=--f[ua].rx,0===na&&f.splice(ua,1))}};ia.prototype.PJ=
function(){return{start:-ea.a}};ia.prototype.UZ=function(){var fa=-(ea.a+ea.e);return{start:fa-ea.d,end:fa}};ia.prototype.$o=function(fa){var ha=this;this.pv=!0;var da=ea.a;this.Ek(this.url,this.PJ(),function(ma,ua,na){function Aa(){var ra=ha.Vc.MJ();ha.Ek(ha.url,ra,function(ta,sa){if(ta)return Object(ja.i)("Error loading central directory: "+ta),fa(ta);sa=Object(y.a)(sa);if(sa.length!==ra.stop-ra.start)return fa("Invalid XOD file: Zip central directory data is wrong size! Should be "+(ra.stop-ra.start)+
" but is "+sa.length);ha.Vc.RM(sa);ha.DA=!0;ha.pv=!1;return fa(!1)})}if(ma)return Object(ja.i)("Error loading end header: "+ma),fa(ma,ua,na);ua=Object(y.a)(ua);if(ua.length!==da)return fa("Invalid XOD file: Zip end header data is wrong size!");try{ha.Vc=new ca.a(ua)}catch(ra){return fa(ra)}ha.Vc.j0?ha.Ek(ha.url,ha.UZ(),function(ra,ta){if(ra)return Object(ja.i)("Error loading zip64 header: "+ra),fa(ra);ta=Object(y.a)(ta);ha.Vc.A0(ta);Aa()}):Aa()})};ia.prototype.dK=function(fa){fa(Object.keys(this.Vc.ik))};
ia.prototype.HD=function(fa,ha){var da=this;if(this.Vc.xI(fa)){var ma=this.Vc.mw(fa);if(ma in this.sj){var ua=this.jg[fa];ua.ao=this.sj[ma];ua.ao.qj++;ua.cancel=ua.ao.cancel}else{var na=this.Vc.vY(fa),Aa=this.Ek(this.url,na,function(ta,sa){ta?(Object(ja.i)('Error loading part "'+fa+'": '+ta),da.Ek(da.url,na,function(qa,ya){if(qa)return ha(qa,fa);da.VM(ya,na,ma,fa,ha)})):da.VM(sa,na,ma,fa,ha)}),ra=this.jg[fa];ra&&(ra.WO=!0,ra.cancel=function(){ra.ao.qj--;0===ra.ao.qj&&(Aa(),delete da.sj[ma])},this.sj[ma]=
new z(ma),ra.ao=this.sj[ma],ra.ao.cancel=ra.cancel)}}else delete this.jg[fa],ha(Error('File not found: "'+fa+'"'),fa)};ia.prototype.VM=function(fa,ha,da,ma,ua){if(fa.length!==ha.stop-ha.start)ua(Error("Part data is wrong size!"),ma);else{do{if(!this.sj[da])return;ma=this.sj[da].qj;for(var na=ha.Wm.length,Aa=0;Aa<na;++Aa){var ra=ha.Wm[Aa];ua(!1,ra.Tm,fa["string"===typeof fa?"substring":"subarray"](ra.start,ra.stop),this.Vc.XK(ra.Tm));ra.Tm in this.jg&&delete this.jg[ra.Tm]}}while(ma!==this.sj[da].qj);
delete this.sj[da]}};ia.DISABLE_RANGE_HEADER=!1;ia.tF=3;return ia}(Ea.a);(function(aa){function ia(fa,ha,da){var ma=aa.call(this)||this,ua;for(ua in fa)ma[ua]=fa[ua];ma.sba=fa;ma.startOffset=ha;ma.endOffset=da;ma.EI=function(na,Aa,ra,ta){Object(ka.isUndefined)(Aa.stop)?(Aa.start+=ma.endOffset,Aa.stop=ma.endOffset):(Aa.start+=ma.startOffset,Aa.stop+=ma.startOffset);na=ma.Sq(ma.url,Aa,ma.kv);return new fa.Hs(na,Aa,ra,ta)};return ma}Object(oa.c)(ia,aa);return ia})(w);Object(ba.a)(w);Object(ba.b)(w);
va["default"]=w}}]);}).call(this || window)
